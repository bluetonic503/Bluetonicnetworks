<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bluetonic.net - Freelance Marketplace</title>
    <link rel="icon" type="image/png" href="bluetonic.jpg.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-storage-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #f8fafc;
            --dark: #1e293b;
            --light: #64748b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --border: #e2e8f0;
        }

        body {
            background-color: #f1f5f9;
            color: var(--dark);
        }

        /* Page Transition Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Logo Animations */
        @keyframes floatBounce {
            0%, 100% {
                transform: translateY(0) scale(1);
            }
            25% {
                transform: translateY(-10px) scale(1.05);
            }
            50% {
                transform: translateY(-5px) scale(1.02);
            }
            75% {
                transform: translateY(-8px) scale(1.03);
            }
        }

        @keyframes glowPulse {
            0%, 100% {
                filter: drop-shadow(0 0 5px rgba(37, 99, 235, 0.3));
            }
            50% {
                filter: drop-shadow(0 0 15px rgba(37, 99, 235, 0.7));
            }
        }

        @keyframes spinSlow {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        /* Utility Classes */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hidden {
            display: none !important;
        }

        .page {
            padding: 30px 0;
            animation: fadeIn 0.5s ease-out;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.2);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: var(--dark);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background-color: #e2e8f0;
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            transition: all 0.3s ease;
            animation: scaleIn 0.4s ease-out;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        /* Header & Navigation */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            animation: fadeIn 0.5s ease-out;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-img {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            object-fit: cover;
            animation: floatBounce 4s ease-in-out infinite, glowPulse 3s ease-in-out infinite;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
        }

        .logo:hover .logo-img {
            animation: floatBounce 2s ease-in-out infinite, glowPulse 1.5s ease-in-out infinite, spinSlow 20s linear infinite;
            transform: scale(1.1) rotate(5deg);
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(37, 99, 235, 0.4);
        }

        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: all 0.3s;
            position: relative;
            padding: 5px 0;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .avatar:hover {
            transform: scale(1.1);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark);
            transition: transform 0.3s ease;
        }

        .mobile-menu-btn:hover {
            transform: rotate(90deg);
        }

        /* Main Content Area */
        #app {
            min-height: calc(100vh - 140px);
        }

        /* Home Page */
        .hero {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 15px;
            margin-bottom: 40px;
            animation: slideInLeft 0.8s ease-out;
            position: relative;
            overflow: hidden;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--light);
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 40px;
        }

        .stat-item {
            text-align: center;
            animation: fadeIn 0.6s ease-out;
            animation-fill-mode: both;
        }

        .stat-item:nth-child(1) { animation-delay: 0.2s; }
        .stat-item:nth-child(2) { animation-delay: 0.4s; }
        .stat-item:nth-child(3) { animation-delay: 0.6s; }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .stat-item:hover .stat-number {
            transform: scale(1.1);
        }

        .stat-label {
            color: var(--light);
            font-size: 0.9rem;
        }

        /* MODIFIED: Features Section - Smaller Cards with Real Photos */
        .features-section {
            margin: 60px 0;
            animation: fadeIn 0.8s ease-out;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .feature-card {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
            height: 100%;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: white;
            font-size: 1.5rem;
        }

        .feature-image {
            width: 100%;
            height: 160px;
            border-radius: 8px;
            object-fit: cover;
            margin-bottom: 15px;
            background-color: #f8fafc;
        }

        /* NEW STYLISH: Experience the Bluetonic Advantage Section */
        .advantage-section {
            margin: 60px 0;
            position: relative;
            overflow: hidden;
        }

        .advantage-container {
            position: relative;
            padding: 50px;
            border-radius: 20px;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            animation: fadeIn 0.8s ease-out;
        }

        .advantage-container::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.2), rgba(37, 99, 235, 0.1));
            border-radius: 50%;
            z-index: 0;
        }

        .advantage-container::after {
            content: '';
            position: absolute;
            bottom: -50px;
            left: -50px;
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1));
            border-radius: 50%;
            z-index: 0;
        }

        .advantage-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }

        .advantage-header h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #60a5fa, #34d399);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .advantage-header .tagline {
            font-size: 1.2rem;
            color: #cbd5e1;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .advantage-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            position: relative;
            z-index: 1;
        }

        .advantage-feature {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .advantage-feature:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(37, 99, 235, 0.3);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .feature-number {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: white;
        }

        .feature-icon-stylish {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            color: white;
            font-size: 1.8rem;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
        }

        .advantage-feature h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: white;
        }

        .advantage-feature p {
            color: #cbd5e1;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .feature-stats {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-bubble {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #94a3b8;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-bubble i {
            color: #60a5fa;
        }

        .advantage-cta {
            text-align: center;
            margin-top: 50px;
            position: relative;
            z-index: 1;
        }

        .cta-text {
            font-size: 1.1rem;
            color: #cbd5e1;
            margin-bottom: 25px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Call to Action */
        .call-to-action {
            text-align: center;
            margin: 40px 0;
            padding: 40px;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 15px;
            animation: fadeIn 0.8s ease-out;
        }

        .job-listings {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .job-card {
            border-left: 4px solid var(--primary);
            animation: fadeIn 0.6s ease-out;
            animation-fill-mode: both;
        }

        .job-card:nth-child(1) { animation-delay: 0.1s; }
        .job-card:nth-child(2) { animation-delay: 0.2s; }
        .job-card:nth-child(3) { animation-delay: 0.3s; }

        .job-card h3 {
            margin-bottom: 10px;
        }

        .job-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: var(--light);
            font-size: 0.9rem;
        }

        .job-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .skill-tag {
            background-color: #e0f2fe;
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .skill-tag:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Comments Section Styles */
        .comments-section {
            background: var(--dark);
            color: white;
            padding: 40px 0;
            margin-top: 60px;
        }

        .comments-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .comment-form {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .comment-input {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .comment-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.1);
        }

        .comment-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .comments-list {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .comment-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            animation: fadeIn 0.5s ease-out;
        }

        .comment-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .comment-author {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .comment-time {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-left: auto;
        }

        .comment-text {
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }

        .show-more-btn {
            display: block;
            margin: 20px auto 0;
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .show-more-btn:hover {
            background: var(--primary);
            color: white;
        }

        /* Forms */
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            animation: slideInRight 0.6s ease-out;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
            transform: translateY(-2px);
        }

        .user-type-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .user-type-btn {
            flex: 1;
            padding: 15px;
            text-align: center;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-type-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .user-type-btn.active {
            border-color: var(--primary);
            background-color: #e0f2fe;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.2);
        }

        /* Chat Section */
        .chat-container {
            display: flex;
            height: 500px;
            border: 1px solid var(--border);
            border-radius: 10px;
            overflow: hidden;
            animation: fadeIn 0.6s ease-out;
        }

        .chat-sidebar {
            width: 300px;
            background-color: var(--secondary);
            border-right: 1px solid var(--border);
            overflow-y: auto;
        }

        .chat-conversation {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 15px;
            background-color: white;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 70%;
            padding: 12px 15px;
            border-radius: 18px;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }

        .message-sent {
            align-self: flex-end;
            background-color: var(--primary);
            color: white;
            border-bottom-right-radius: 5px;
            animation: slideInRight 0.3s ease-out;
        }

        .message-received {
            align-self: flex-start;
            background-color: var(--secondary);
            border-bottom-left-radius: 5px;
            animation: slideInLeft 0.3s ease-out;
        }

        .message-time {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-top: 5px;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid var(--border);
            background-color: white;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 30px;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .chat-input input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
        }

        .chat-contact {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-contact:hover, .chat-contact.active {
            background-color: white;
            padding-left: 20px;
        }

        /* Enhanced Profile Page */
        .profile-header {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
            animation: slideInLeft 0.6s ease-out;
            align-items: center;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.2);
        }

        .profile-avatar:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(37, 99, 235, 0.3);
        }

        .profile-info h2 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .profile-badge {
            display: inline-block;
            padding: 5px 15px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            animation: fadeIn 0.6s ease-out;
        }

        .profile-stats {
            display: flex;
            gap: 30px;
            margin-top: 20px;
        }

        .profile-stat-item {
            text-align: center;
            padding: 15px;
            background: var(--secondary);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .profile-stat-item:hover {
            transform: translateY(-5px);
            background: white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .profile-stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: block;
        }

        .profile-stat-label {
            color: var(--light);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .profile-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        /* Profile Sections */
        .profile-section {
            margin-bottom: 30px;
            animation: fadeIn 0.6s ease-out;
        }

        .profile-section-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--dark);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }

        .profile-skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .profile-skill {
            padding: 8px 15px;
            background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
            color: var(--primary);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .profile-skill:hover {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            transform: translateY(-2px);
        }

        /* Payment Methods */
        .payment-methods {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .payment-method {
            flex: 1;
            text-align: center;
            padding: 25px;
            border: 2px solid var(--border);
            border-radius: 10px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .payment-method:hover {
            border-color: var(--primary);
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .payment-method i {
            font-size: 3rem;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }

        .payment-method:hover i {
            transform: scale(1.2);
        }

        .paypal-icon {
            color: #003087;
        }

        .whatsapp-icon {
            color: #25D366;
        }

        .payment-btn {
            margin-top: 15px;
            width: 100%;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 0 20px;
            margin-top: 60px;
            animation: fadeIn 0.8s ease-out;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: all 0.3s;
            padding-left: 0;
            position: relative;
        }

        .footer-links a:hover {
            color: white;
            padding-left: 10px;
        }

        .footer-links a::before {
            content: 'â†’';
            position: absolute;
            left: -10px;
            opacity: 0;
            transition: all 0.3s;
        }

        .footer-links a:hover::before {
            left: 0;
            opacity: 1;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            background-color: var(--success);
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: slideInRight 0.5s ease-out;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.error {
            background-color: var(--danger);
        }

        .notification.warning {
            background-color: var(--warning);
        }

        /* Loader */
        .loader {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .stats {
                gap: 20px;
            }
            
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .advantage-features {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .nav-links {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background-color: white;
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s;
                z-index: 99;
            }

            .nav-links.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .stats {
                flex-direction: column;
                gap: 15px;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .feature-card {
                padding: 15px;
            }

            .feature-image {
                height: 140px;
            }

            .feature-icon {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
            }

            .advantage-container {
                padding: 30px 20px;
            }

            .advantage-header h2 {
                font-size: 2rem;
            }

            .advantage-features {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .advantage-feature {
                padding: 20px;
            }

            .feature-icon-stylish {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .chat-container {
                flex-direction: column;
                height: 700px;
            }

            .chat-sidebar {
                width: 100%;
                height: 200px;
                border-right: none;
                border-bottom: 1px solid var(--border);
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .payment-methods {
                flex-direction: column;
            }

            .logo-img {
                width: 40px;
                height: 40px;
            }

            .profile-stats {
                flex-direction: column;
                gap: 15px;
            }

            .profile-actions {
                flex-direction: column;
            }

            .footer-content {
                flex-direction: column;
                gap: 30px;
            }
        }

        @media (max-width: 576px) {
            .hero {
                padding: 40px 20px;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .job-listings {
                grid-template-columns: 1fr;
            }

            .call-to-action {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header/Navigation -->
    <header>
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <img src="bluetonic.jpg.jpg" 
                         alt="Bluetonic Logo" 
                         class="logo-img">
                    <span>Bluetonic.net</span>
                </div>
                
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="nav-links" id="navLinks">
                    <a href="#" data-page="home">Home</a>
                    <a href="#" data-page="jobs">Find Work</a>
                    <a href="#" data-page="post-job">Post a Job</a>
                    <a href="#" data-page="chat">Messages</a>
                    
                    <div class="user-menu" id="userMenu">
                        <a href="#" data-page="login" id="loginBtn">Login</a>
                        <a href="#" data-page="register" id="registerBtn" class="btn btn-primary">Sign Up</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main App Container -->
    <div id="app">
        <!-- Home Page - MODIFIED WITH REAL PHOTOS -->
        <div class="page container" id="home-page">
            <div class="hero">
                <h1>Your New Home for Freelancing & Quick Hiring!</h1>
                <p>Whether you're a Student, Freelancer, Entrepreneur, or Business Owner, Bluetonic gives you a smooth and fast experience.</p>
                <div>
                    <button class="btn btn-primary" data-page="register">Start Freelancing</button>
                    <button class="btn btn-success" data-page="post-job">Hire Talent Now</button>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number" id="stats-freelancers">0</div>
                        <div class="stat-label">Freelancers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="stats-jobs">0</div>
                        <div class="stat-label">Projects Posted</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="stats-earned">$0</div>
                        <div class="stat-label">Earned</div>
                    </div>
                </div>
            </div>
            
            <!-- MODIFIED: Features Section with Real Photos and Smaller Cards -->
            <div class="features-section">
                <h2 style="text-align: center; margin-bottom: 20px;">Why Choose Bluetonic?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <!-- Real photo for Lightning Fast -->
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                             alt="Fast computer and phone showing quick loading"
                             class="feature-image">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Lightning Fast</h3>
                        <p>Post jobs or apply in seconds. No lengthy forms, just quick action.</p>
                    </div>
                    
                    <div class="feature-card">
                        <!-- Real photo for Responsive Design -->
                        <img src="https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                             alt="Multiple devices showing responsive design"
                             class="feature-image">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Perfectly Responsive</h3>
                        <p>Works seamlessly on mobile and desktop. Freelance on the go!</p>
                    </div>
                    
                    <div class="feature-card">
                        <!-- Real photo for Global Reach -->
                        <img src="https://media.istockphoto.com/id/2173063067/photo/business-people-in-the-office.jpg?s=1024x1024&w=is&k=20&c=kJ5qgtxb1f4ruoDN03nRfMzZBXOV1FBu2_fBM95y8Es=" 
                             alt="Global team collaboration"
                             class="feature-image">
                        <div class="feature-icon">
                            <i class="fas fa-globe-africa"></i>
                        </div>
                        <h3>Built for Kenya & Global</h3>
                        <p>Designed with local needs in mind, accessible worldwide.</p>
                    </div>
                </div>
            </div>
            
            <!-- NEW STYLISH: Experience the Bluetonic Advantage Section -->
            <div class="advantage-section">
                <div class="advantage-container">
                    <div class="advantage-header">
                        <h2>Experience the Bluetonic Advantage</h2>
                        <p class="tagline">Fast applying of jobs and fast posting - your ultimate platform for freelancing success!</p>
                    </div>
                    
                    <div class="advantage-features">
                        <div class="advantage-feature">
                            <div class="feature-number">01</div>
                            <div class="feature-icon-stylish">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <h3>Lightning Fast Posting</h3>
                            <p>Post jobs in seconds with our streamlined interface. No complicated forms, just quick action that gets results.</p>
                            <div class="feature-stats">
                                <span class="stat-bubble">
                                    <i class="fas fa-clock"></i> Under 30 seconds
                                </span>
                                <span class="stat-bubble">
                                    <i class="fas fa-check-circle"></i> 95% success rate
                                </span>
                            </div>
                        </div>
                        
                        <div class="advantage-feature">
                            <div class="feature-number">02</div>
                            <div class="feature-icon-stylish">
                                <i class="fas fa-mouse-pointer"></i>
                            </div>
                            <h3>One-Click Applications</h3>
                            <p>Apply instantly to opportunities with one click. Your profile does the talking, saving you time and effort.</p>
                            <div class="feature-stats">
                                <span class="stat-bubble">
                                    <i class="fas fa-bolt"></i> Instant apply
                                </span>
                                <span class="stat-bubble">
                                    <i class="fas fa-user-check"></i> Smart matching
                                </span>
                            </div>
                        </div>
                        
                        <div class="advantage-feature">
                            <div class="feature-number">03</div>
                            <div class="feature-icon-stylish">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3>Perfectly Responsive</h3>
                            <p>Clean, responsive UI that works flawlessly on any device. Freelance from your phone, tablet, or desktop.</p>
                            <div class="feature-stats">
                                <span class="stat-bubble">
                                    <i class="fas fa-mobile"></i> Mobile-first
                                </span>
                                <span class="stat-bubble">
                                    <i class="fas fa-desktop"></i> Desktop optimized
                                </span>
                            </div>
                        </div>
                        
                        <div class="advantage-feature">
                            <div class="feature-number">04</div>
                            <div class="feature-icon-stylish">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3>Smart Talent Matching</h3>
                            <p>Find talent faster than ever with our intelligent matching system that connects you with the perfect freelancers.</p>
                            <div class="feature-stats">
                                <span class="stat-bubble">
                                    <i class="fas fa-brain"></i> AI-powered
                                </span>
                                <span class="stat-bubble">
                                    <i class="fas fa-bullseye"></i> Precision matches
                                </span>
                            </div>
                        </div>
                        
                        <div class="advantage-feature">
                            <div class="feature-number">05</div>
                            <div class="feature-icon-stylish">
                                <i class="fas fa-globe-africa"></i>
                            </div>
                            <h3>Local & Global Reach</h3>
                            <p>Built specifically for Kenya with global accessibility. Connect with talent and opportunities worldwide.</p>
                            <div class="feature-stats">
                                <span class="stat-bubble">
                                    <i class="fas fa-map-marker-alt"></i> Kenya-focused
                                </span>
                                <span class="stat-bubble">
                                    <i class="fas fa-globe"></i> Worldwide access
                                </span>
                            </div>
                        </div>
                        
                        <div class="advantage-feature">
                            <div class="feature-number">06</div>
                            <div class="feature-icon-stylish">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <h3>Seamless Experience</h3>
                            <p>Works perfectly on mobile and desktop with smooth transitions and intuitive navigation throughout.</p>
                            <div class="feature-stats">
                                <span class="stat-bubble">
                                    <i class="fas fa-sync"></i> Real-time updates
                                </span>
                                <span class="stat-bubble">
                                    <i class="fas fa-shield-alt"></i> Secure & reliable
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advantage-cta">
                        <p class="cta-text">Join thousands of freelancers and clients who trust Bluetonic for their projects. Experience the difference today!</p>
                        <div class="cta-buttons">
                            <button class="btn btn-primary" data-page="register" style="font-size: 1.1rem; padding: 12px 30px; background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                                <i class="fas fa-rocket"></i> Start Freelancing
                            </button>
                            <button class="btn btn-success" data-page="post-job" style="font-size: 1.1rem; padding: 12px 30px; background: linear-gradient(135deg, #10b981, #059669);">
                                <i class="fas fa-briefcase"></i> Hire Your Next Worker
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Call to Action -->
            <div class="call-to-action">
                <h2 style="margin-bottom: 15px;">Start Your Freelancing Journey Today!</h2>
                <p style="font-size: 1.1rem; margin-bottom: 25px;">
                    Join thousands of freelancers and clients who trust Bluetonic for their projects.
                </p>
                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-primary" data-page="register" style="font-size: 1.1rem; padding: 12px 30px;">
                        <i class="fas fa-rocket"></i> Start Freelancing
                    </button>
                    <button class="btn btn-success" data-page="post-job" style="font-size: 1.1rem; padding: 12px 30px;">
                        <i class="fas fa-briefcase"></i> Hire Your Next Worker
                    </button>
                </div>
            </div>
            
            <h2>Recent Job Listings</h2>
            <div class="job-listings" id="job-listings">
                <!-- Job listings will be populated by JavaScript -->
            </div>
        </div>

        <!-- Login Page -->
        <div class="page container hidden" id="login-page">
            <div class="form-container">
                <h2>Login to Bluetonic</h2>
                <p class="light-text">Access your freelancing account</p>
                
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" class="form-control" placeholder="your@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="login-submit-btn">
                        <span id="login-text">Login</span>
                        <div class="loader hidden" id="login-loader"></div>
                    </button>
                </form>
                
                <p style="text-align: center; margin-top: 20px;">Don't have an account? <a href="#" data-page="register">Sign up here</a></p>
            </div>
        </div>

        <!-- Registration Page -->
        <div class="page container hidden" id="register-page">
            <div class="form-container">
                <h2>Join Bluetonic</h2>
                <p class="light-text">Create your account to start freelancing</p>
                
                <div class="user-type-selector">
                    <div class="user-type-btn active" data-type="client">
                        <i class="fas fa-briefcase"></i>
                        <h3>Client</h3>
                        <p>I want to hire freelancers</p>
                    </div>
                    <div class="user-type-btn" data-type="freelancer">
                        <i class="fas fa-code"></i>
                        <h3>Freelancer</h3>
                        <p>I want to find work</p>
                    </div>
                </div>
                
                <form id="register-form">
                    <input type="hidden" id="user-type" value="client">
                    
                    <div class="form-group">
                        <label for="register-name">Full Name</label>
                        <input type="text" id="register-name" class="form-control" placeholder="John Doe" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-email">Email Address</label>
                        <input type="email" id="register-email" class="form-control" placeholder="your@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" class="form-control" placeholder="Create a password (min. 6 characters)" required minlength="6">
                    </div>
                    
                    <div class="form-group" id="skills-field" style="display: none;">
                        <label for="register-skills">Skills (comma separated)</label>
                        <input type="text" id="register-skills" class="form-control" placeholder="Web Design, JavaScript, React">
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="register-submit-btn">
                        <span id="register-text">Create Account</span>
                        <div class="loader hidden" id="register-loader"></div>
                    </button>
                </form>
                
                <p style="text-align: center; margin-top: 20px;">Already have an account? <a href="#" data-page="login">Login here</a></p>
            </div>
        </div>

        <!-- Enhanced Profile Page -->
        <div class="page container hidden" id="profile-page">
            <div class="profile-header">
                <div class="profile-avatar" id="profile-avatar">
                    <!-- Avatar will be populated by JavaScript -->
                </div>
                <div class="profile-info">
                    <h2 id="profile-name">Loading...</h2>
                    <div class="profile-badge" id="profile-type">Loading...</div>
                    <p id="profile-email">Loading...</p>
                    <p id="profile-location"><i class="fas fa-map-marker-alt"></i> <span id="location-text">Location not set</span></p>
                    
                    <div class="profile-stats">
                        <div class="profile-stat-item">
                            <span class="profile-stat-number" id="profile-jobs">0</span>
                            <span class="profile-stat-label" id="jobs-label">Jobs</span>
                        </div>
                        <div class="profile-stat-item">
                            <span class="profile-stat-number" id="profile-hired">0</span>
                            <span class="profile-stat-label">Hired</span>
                        </div>
                        <div class="profile-stat-item">
                            <span class="profile-stat-number" id="profile-rating">0.0</span>
                            <span class="profile-stat-label">Rating</span>
                        </div>
                    </div>
                    
                    <div class="profile-actions">
                        <button class="btn btn-primary" id="edit-profile-btn">
                            <i class="fas fa-edit"></i> Edit Profile
                        </button>
                        <button class="btn btn-secondary" id="share-profile-btn">
                            <i class="fas fa-share-alt"></i> Share Profile
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- About Section -->
            <div class="card profile-section">
                <h3 class="profile-section-title">About Me</h3>
                <p id="profile-about">No bio yet. Tell us about yourself!</p>
            </div>
            
            <!-- Skills Section (for freelancers) -->
            <div class="card profile-section" id="profile-skills-section" style="display: none;">
                <h3 class="profile-section-title">Skills & Expertise</h3>
                <div class="profile-skills-container" id="profile-skills">
                    <!-- Skills will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Portfolio Section -->
            <div class="card profile-section">
                <h3 class="profile-section-title">Portfolio</h3>
                <p id="portfolio-text">No portfolio items yet. Add your work to showcase your skills!</p>
                <button class="btn btn-secondary" id="add-portfolio-btn" style="margin-top: 15px;">
                    <i class="fas fa-plus"></i> Add Portfolio Item
                </button>
            </div>
            
            <!-- Payment Methods -->
            <div class="card profile-section">
                <h3 class="profile-section-title">Payment Methods</h3>
                <p>Bluetonic doesn't handle payments directly. Use these methods to pay or receive payments securely:</p>
                
                <div class="payment-methods">
                    <div class="payment-method">
                        <i class="fab fa-paypal paypal-icon"></i>
                        <h4>PayPal</h4>
                        <p>Send/receive payments via PayPal</p>
                        <button class="btn btn-secondary payment-btn" id="setup-paypal">
                            <i class="fab fa-paypal"></i> Setup PayPal
                        </button>
                    </div>
                    <div class="payment-method">
                        <i class="fab fa-whatsapp whatsapp-icon"></i>
                        <h4>WhatsApp</h4>
                        <p>Coordinate payments via WhatsApp</p>
                        <button class="btn btn-success payment-btn" id="setup-whatsapp">
                            <i class="fab fa-whatsapp"></i> Connect WhatsApp
                        </button>
                    </div>
                    <div class="payment-method">
                        <i class="fas fa-university"></i>
                        <h4>Bank Transfer</h4>
                        <p>Direct bank transfers</p>
                        <button class="btn btn-primary payment-btn" id="setup-bank">
                            <i class="fas fa-university"></i> Add Bank Account
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="card profile-section">
                <h3 class="profile-section-title">Recent Activity</h3>
                <div id="recent-activity">
                    <p>No recent activity</p>
                </div>
            </div>
        </div>

        <!-- Post Job Page -->
        <div class="page container hidden" id="post-job-page">
            <div class="form-container">
                <h2>Post a New Job</h2>
                <p>Fill out the details to find the perfect freelancer for your project</p>
                
                <form id="post-job-form">
                    <div class="form-group">
                        <label for="job-title">Job Title</label>
                        <input type="text" id="job-title" class="form-control" placeholder="e.g. Web Developer Needed for E-commerce Site" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="job-description">Job Description</label>
                        <textarea id="job-description" class="form-control" rows="5" placeholder="Describe the project in detail..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="job-budget">Budget (USD)</label>
                        <input type="number" id="job-budget" class="form-control" placeholder="500" min="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="job-skills">Required Skills (comma separated)</label>
                        <input type="text" id="job-skills" class="form-control" placeholder="JavaScript, React, Node.js">
                    </div>
                    
                    <div class="form-group">
                        <label for="job-duration">Estimated Duration</label>
                        <select id="job-duration" class="form-control">
                            <option value="1-2 weeks">1-2 weeks</option>
                            <option value="1 month">1 month</option>
                            <option value="1-3 months">1-3 months</option>
                            <option value="3+ months">3+ months</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="post-job-submit-btn">
                        <span id="post-job-text">Post Job</span>
                        <div class="loader hidden" id="post-job-loader"></div>
                    </button>
                </form>
            </div>
        </div>

        <!-- Jobs Page -->
        <div class="page container hidden" id="jobs-page">
            <h2>Available Jobs</h2>
            <p>Browse and apply to freelance opportunities</p>
            
            <div class="job-filters" style="margin-bottom: 20px;">
                <select id="job-category-filter" class="form-control" style="width: 200px; display: inline-block; margin-right: 10px;">
                    <option value="">All Categories</option>
                    <option value="web-development">Web Development</option>
                    <option value="mobile-development">Mobile Development</option>
                    <option value="design">Design</option>
                    <option value="writing">Writing</option>
                    <option value="marketing">Marketing</option>
                </select>
                <input type="text" id="job-search" class="form-control" placeholder="Search jobs..." style="width: 300px; display: inline-block;">
            </div>
            
            <div class="job-listings" id="all-job-listings">
                <!-- All job listings will be populated by JavaScript -->
            </div>
        </div>

        <!-- Chat Page -->
        <div class="page container hidden" id="chat-page">
            <h2>Messages</h2>
            <p>Communicate with clients or freelancers</p>
            
            <div class="chat-container">
                <div class="chat-sidebar">
                    <div class="chat-header">Conversations</div>
                    <div id="chat-contacts">
                        <!-- Chat contacts will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="chat-conversation">
                    <div class="chat-header" id="chat-with">Select a conversation</div>
                    
                    <div class="chat-messages" id="chat-messages">
                        <!-- Messages will be populated by JavaScript -->
                    </div>
                    
                    <div class="chat-input" id="chat-input-area" style="display: none;">
                        <input type="text" id="message-input" placeholder="Type your message...">
                        <button class="btn btn-primary" id="send-message">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comments Section -->
    <div class="comments-section">
        <div class="container comments-container">
            <h2 style="text-align: center; margin-bottom: 30px; color: white;">What Our Users Say</h2>
            
            <div class="comment-form">
                <h3 style="margin-bottom: 20px; color: white;">Share Your Experience</h3>
                <textarea class="comment-input" id="comment-text" placeholder="Share your thoughts about Bluetonic..." rows="4"></textarea>
                <button class="btn btn-primary" id="submit-comment" style="width: 100%;">
                    <i class="fas fa-paper-plane"></i> Post Comment
                </button>
            </div>
            
            <div class="comments-list" id="comments-list">
                <!-- Comments will be loaded here -->
                <div class="comment-item" style="text-align: center; color: rgba(255,255,255,0.7);">
                    <p>No comments yet. Be the first to share your experience!</p>
                </div>
            </div>
            
            <button class="btn btn-secondary show-more-btn" id="show-more-comments" style="display: none;">
                <i class="fas fa-chevron-down"></i> Show More Comments
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Bluetonic.net</h3>
                    <p>Connecting talented freelancers with clients worldwide since 2023.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <div class="footer-links">
                        <a href="#" data-page="home">Home</a>
                        <a href="#" data-page="jobs">Find Work</a>
                        <a href="#" data-page="post-job">Post a Job</a>
                        <a href="#" data-page="chat">Messages</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Legal</h3>
                    <div class="footer-links">
                        <a href="#">Terms of Service</a>
                        <a href="#">Privacy Policy</a>
                        <a href="#">Freelancer Agreement</a>
                        <a href="#">Client Agreement</a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                &copy; 2023 Bluetonic.net. All rights reserved. This platform facilitates connections but does not handle payments directly.
            </div>
        </div>
    </footer>

    <script>
        // ============================================
        // FIREBASE CONFIGURATION
        // ============================================
        
        const firebaseConfig = {
            apiKey: "AIzaSyD37dnKXSnyVJpFuLPaDDV5f9Ec-45XXsw",
            authDomain: "bluetonic-network.firebaseapp.com",
            projectId: "bluetonic-network",
            storageBucket: "bluetonic-network.firebasestorage.app",
            messagingSenderId: "228076933520",
            appId: "1:228076933520:web:57b2dca469b2f66e196315"
        };

        // Initialize Firebase
        try {
            firebase.initializeApp(firebaseConfig);
            console.log("Firebase initialized successfully");
        } catch (error) {
            console.error("Firebase initialization error:", error);
        }
        
        // Initialize Firebase services
        const auth = firebase.auth();
        const db = firebase.firestore();
        
        // ============================================
        // APPLICATION STATE
        // ============================================
        
        const state = {
            currentUser: null,
            userProfile: null,
            currentChatWith: null,
            editingSkills: [],
            isLoading: false,
            chatListener: null,
            contactsListener: null,
            commentsListener: null,
            visibleComments: 5,
            allComments: []
        };
        
        // ============================================
        // DOM ELEMENTS
        // ============================================
        
        const appContainer = document.getElementById('app');
        const userMenu = document.getElementById('userMenu');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        
        // ============================================
        // HELPER FUNCTIONS
        // ============================================
        
        // Loader Functions
        function showLoader(buttonId, textId, loaderId) {
            const textElement = document.getElementById(textId);
            const loaderElement = document.getElementById(loaderId);
            const buttonElement = document.getElementById(buttonId);
            
            if (textElement) textElement.classList.add('hidden');
            if (loaderElement) loaderElement.classList.remove('hidden');
            if (buttonElement) buttonElement.disabled = true;
        }
        
        function hideLoader(buttonId, textId, loaderId) {
            const textElement = document.getElementById(textId);
            const loaderElement = document.getElementById(loaderId);
            const buttonElement = document.getElementById(buttonId);
            
            if (textElement) textElement.classList.remove('hidden');
            if (loaderElement) loaderElement.classList.add('hidden');
            if (buttonElement) buttonElement.disabled = false;
        }
        
        // Show Notification
        function showNotification(message, type = 'success') {
            // Remove any existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.5s ease-out reverse';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 500);
            }, 3000);
        }
        
        // Format date for comments
        function formatCommentDate(timestamp) {
            if (!timestamp) return 'Just now';
            
            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins} minute${diffMins === 1 ? '' : 's'} ago`;
            if (diffHours < 24) return `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`;
            if (diffDays < 7) return `${diffDays} day${diffDays === 1 ? '' : 's'} ago`;
            
            return date.toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric',
                year: diffDays > 365 ? 'numeric' : undefined
            });
        }
        
        // ============================================
        // COMMENTS SYSTEM FUNCTIONS
        // ============================================
        
        // Load Comments
        function loadComments() {
            if (state.commentsListener) {
                state.commentsListener();
            }
            
            state.commentsListener = db.collection('comments')
                .orderBy('createdAt', 'desc')
                .onSnapshot((snapshot) => {
                    state.allComments = [];
                    snapshot.forEach(doc => {
                        state.allComments.push({
                            id: doc.id,
                            ...doc.data()
                        });
                    });
                    
                    renderComments();
                }, (error) => {
                    console.error('Error loading comments:', error);
                });
        }
        
        // Render Comments
        function renderComments() {
            const container = document.getElementById('comments-list');
            const showMoreBtn = document.getElementById('show-more-comments');
            
            if (state.allComments.length === 0) {
                container.innerHTML = `
                    <div class="comment-item" style="text-align: center; color: rgba(255,255,255,0.7);">
                        <p>No comments yet. Be the first to share your experience!</p>
                    </div>
                `;
                showMoreBtn.style.display = 'none';
                return;
            }
            
            container.innerHTML = '';
            
            const commentsToShow = state.allComments.slice(0, state.visibleComments);
            
            commentsToShow.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment-item';
                commentElement.innerHTML = `
                    <div class="comment-header">
                        <div class="comment-avatar">
                            ${comment.authorName ? comment.authorName.charAt(0).toUpperCase() : 'U'}
                        </div>
                        <div class="comment-author">${comment.authorName || 'Anonymous User'}</div>
                        <div class="comment-time">${formatCommentDate(comment.createdAt)}</div>
                    </div>
                    <div class="comment-text">${comment.text}</div>
                `;
                container.appendChild(commentElement);
            });
            
            // Show/hide "Show More" button
            if (state.allComments.length > state.visibleComments) {
                showMoreBtn.style.display = 'block';
            } else {
                showMoreBtn.style.display = 'none';
            }
        }
        
        // Submit Comment
        async function submitComment() {
            const commentInput = document.getElementById('comment-text');
            const text = commentInput.value.trim();
            
            if (!text) {
                showNotification('Please enter a comment', 'warning');
                return;
            }
            
            if (!state.currentUser) {
                showNotification('Please login to post a comment', 'warning');
                showPage('login');
                return;
            }
            
            const submitBtn = document.getElementById('submit-comment');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Posting...';
            submitBtn.disabled = true;
            
            try {
                await db.collection('comments').add({
                    text: text,
                    authorId: state.currentUser.uid,
                    authorName: state.userProfile?.name || 'Anonymous',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                commentInput.value = '';
                showNotification('Comment posted successfully!');
                
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
            } catch (error) {
                console.error('Error posting comment:', error);
                showNotification('Error posting comment', 'error');
                
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        }
        
        // Show More Comments
        function showMoreComments() {
            state.visibleComments += 5;
            renderComments();
        }
        
        // ============================================
        // AUTHENTICATION FUNCTIONS
        // ============================================
        
        // Listen for auth state changes
        auth.onAuthStateChanged(async (user) => {
            console.log("Auth state changed:", user);
            if (user) {
                // User is signed in
                console.log("User signed in:", user.email);
                try {
                    await loadUserProfile(user.uid);
                    state.currentUser = user;
                    updateUIForUser();
                    
                    // Show welcome notification
                    if (state.userProfile) {
                        showNotification(`Welcome back, ${state.userProfile.name}!`);
                    }
                } catch (error) {
                    console.error("Error loading user profile:", error);
                    showNotification("Error loading user profile", "error");
                }
            } else {
                // User is signed out
                console.log("User signed out");
                state.currentUser = null;
                state.userProfile = null;
                updateUIForUser();
            }
        });
        
        // Load user profile from Firestore
        async function loadUserProfile(userId) {
            try {
                console.log("Loading user profile for:", userId);
                const doc = await db.collection('users').doc(userId).get();
                if (doc.exists) {
                    state.userProfile = { id: doc.id, ...doc.data() };
                    console.log("User profile loaded:", state.userProfile);
                    
                    // Update UI if on profile page
                    if (document.getElementById('profile-page') && 
                        !document.getElementById('profile-page').classList.contains('hidden')) {
                        loadProfileData();
                    }
                } else {
                    console.log("No user profile found in Firestore");
                    // Create a basic profile if none exists
                    await createBasicUserProfile(userId);
                }
            } catch (error) {
                console.error('Error loading user profile:', error);
                throw error;
            }
        }
        
        // Create basic user profile if none exists
        async function createBasicUserProfile(userId) {
            try {
                const user = auth.currentUser;
                if (!user) return;
                
                const basicProfile = {
                    name: user.displayName || user.email.split('@')[0],
                    email: user.email,
                    type: 'freelancer', // Default type
                    skills: [],
                    location: '',
                    bio: 'New user on Bluetonic',
                    rating: 0,
                    hourlyRate: 50,
                    jobsPosted: 0,
                    jobsCompleted: 0,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                await db.collection('users').doc(userId).set(basicProfile);
                state.userProfile = { id: userId, ...basicProfile };
                console.log("Basic profile created:", state.userProfile);
            } catch (error) {
                console.error("Error creating basic profile:", error);
            }
        }
        
        // User Registration
        async function registerUser() {
            console.log("Register user called");
            
            const name = document.getElementById('register-name').value.trim();
            const email = document.getElementById('register-email').value.trim();
            const password = document.getElementById('register-password').value;
            const userType = document.getElementById('user-type').value;
            const skills = userType === 'freelancer' ? 
                document.getElementById('register-skills').value.split(',').map(skill => skill.trim()).filter(skill => skill) : [];
            
            // Validation
            if (!name || !email || !password) {
                showNotification('Please fill all required fields', 'error');
                return;
            }
            
            if (password.length < 6) {
                showNotification('Password must be at least 6 characters', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            showLoader('register-submit-btn', 'register-text', 'register-loader');
            
            try {
                console.log("Creating user with email:", email);
                
                // Create user in Firebase Auth
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;
                console.log("User created:", user.uid);
                
                // Update display name
                await user.updateProfile({
                    displayName: name
                });
                
                // Create user profile in Firestore
                const userProfile = {
                    name,
                    email,
                    type: userType,
                    skills,
                    location: '',
                    bio: userType === 'client' ? 
                        'Looking for talented freelancers for my projects.' : 
                        'Freelancer available for new opportunities.',
                    rating: 0,
                    hourlyRate: userType === 'freelancer' ? 50 : 0,
                    jobsPosted: 0,
                    jobsCompleted: 0,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                await db.collection('users').doc(user.uid).set(userProfile);
                console.log("User profile saved to Firestore");
                
                showNotification(`Welcome to Bluetonic, ${name}!`);
                hideLoader('register-submit-btn', 'register-text', 'register-loader');
                
                // Clear form and redirect
                document.getElementById('register-form').reset();
                showPage('home');
                
            } catch (error) {
                console.error('Registration error:', error);
                hideLoader('register-submit-btn', 'register-text', 'register-loader');
                
                let errorMessage = 'Registration failed. Please try again.';
                
                if (error.code === 'auth/email-already-in-use') {
                    errorMessage = 'Email already in use. Please login instead.';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = 'Invalid email address.';
                } else if (error.code === 'auth/weak-password') {
                    errorMessage = 'Password is too weak. Please use at least 6 characters.';
                } else if (error.code === 'auth/network-request-failed') {
                    errorMessage = 'Network error. Please check your connection.';
                }
                
                showNotification(errorMessage, 'error');
            }
        }
        
        // User Login
        async function loginSubmit() {
            console.log("Login submit called");
            
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;
            
            // Validation
            if (!email || !password) {
                showNotification('Please fill all required fields', 'error');
                return;
            }
            
            if (!validateEmail(email)) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            showLoader('login-submit-btn', 'login-text', 'login-loader');
            
            try {
                console.log("Attempting login for:", email);
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                console.log("Login successful:", userCredential.user.uid);
                
                // Load user profile
                await loadUserProfile(userCredential.user.uid);
                
                showNotification('Logged in successfully!');
                hideLoader('login-submit-btn', 'login-text', 'login-loader');
                document.getElementById('login-form').reset();
                showPage('home');
                
            } catch (error) {
                console.error('Login error:', error);
                hideLoader('login-submit-btn', 'login-text', 'login-loader');
                
                let errorMessage = 'Login failed. Please try again.';
                
                if (error.code === 'auth/user-not-found') {
                    errorMessage = 'No account found with this email.';
                } else if (error.code === 'auth/wrong-password') {
                    errorMessage = 'Incorrect password. Please try again.';
                } else if (error.code === 'auth/user-disabled') {
                    errorMessage = 'This account has been disabled.';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = 'Invalid email address.';
                } else if (error.code === 'auth/network-request-failed') {
                    errorMessage = 'Network error. Please check your connection.';
                }
                
                showNotification(errorMessage, 'error');
            }
        }
        
        // Logout User
        async function logoutUser() {
            try {
                // Clean up listeners
                if (state.chatListener) {
                    state.chatListener();
                    state.chatListener = null;
                }
                if (state.contactsListener) {
                    state.contactsListener();
                    state.contactsListener = null;
                }
                if (state.commentsListener) {
                    state.commentsListener();
                    state.commentsListener = null;
                }
                
                await auth.signOut();
                showNotification('Logged out successfully');
                showPage('home');
            } catch (error) {
                console.error('Logout error:', error);
                showNotification('Logout failed: ' + error.message, 'error');
            }
        }
        
        // Email validation helper
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // ============================================
        // FIREBASE FIRESTORE FUNCTIONS
        // ============================================
        
        // Load Home Page Stats
        async function loadHomeStats() {
            try {
                // Get total freelancers
                const freelancersSnapshot = await db.collection('users')
                    .where('type', '==', 'freelancer')
                    .get();
                document.getElementById('stats-freelancers').textContent = freelancersSnapshot.size;
                
                // Get total jobs
                const jobsSnapshot = await db.collection('jobs').get();
                document.getElementById('stats-jobs').textContent = jobsSnapshot.size;
                
                // Calculate total earned (sum of all job budgets)
                let totalEarned = 0;
                jobsSnapshot.forEach(doc => {
                    const job = doc.data();
                    totalEarned += job.budget || 0;
                });
                document.getElementById('stats-earned').textContent = '$' + totalEarned.toLocaleString();
                
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }
        
        // Load Recent Jobs for Home Page
        async function loadRecentJobs() {
            try {
                const snapshot = await db.collection('jobs')
                    .orderBy('createdAt', 'desc')
                    .limit(3)
                    .get();
                
                const container = document.getElementById('job-listings');
                container.innerHTML = '';
                
                if (snapshot.empty) {
                    container.innerHTML = '<p>No jobs available yet. Be the first to post one!</p>';
                    return;
                }
                
                snapshot.forEach(async (doc) => {
                    const job = { id: doc.id, ...doc.data() };
                    
                    // Get poster info
                    let posterName = 'Unknown';
                    try {
                        const userDoc = await db.collection('users').doc(job.postedBy).get();
                        if (userDoc.exists) {
                            posterName = userDoc.data().name;
                        }
                    } catch (error) {
                        console.error('Error loading user:', error);
                    }
                    
                    const jobElement = document.createElement('div');
                    jobElement.className = 'job-card card';
                    jobElement.innerHTML = `
                        <h3>${job.title}</h3>
                        <div class="job-meta">
                            <span>Budget: $${job.budget}</span>
                            <span>${job.duration}</span>
                        </div>
                        <p>${job.description.substring(0, 150)}...</p>
                        <div class="job-skills">
                            ${job.skills ? job.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('') : ''}
                        </div>
                        <div style="margin-top: 15px; display: flex; justify-content: space-between;">
                            <span>Posted by: ${posterName}</span>
                            <button class="btn btn-primary btn-view-job" data-id="${job.id}">View Details</button>
                        </div>
                    `;
                    
                    container.appendChild(jobElement);
                });
                
                // Add event listeners
                setTimeout(() => {
                    document.querySelectorAll('.btn-view-job').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const jobId = this.getAttribute('data-id');
                            viewJobDetails(jobId);
                        });
                    });
                }, 100);
                
            } catch (error) {
                console.error('Error loading jobs:', error);
                showNotification('Error loading jobs', 'error');
            }
        }
        
        // Load All Jobs for Jobs Page
        async function loadAllJobs() {
            try {
                let query = db.collection('jobs').orderBy('createdAt', 'desc');
                
                // Apply filters if any
                const categoryFilter = document.getElementById('job-category-filter')?.value;
                const searchFilter = document.getElementById('job-search')?.value;
                
                if (categoryFilter) {
                    query = query.where('category', '==', categoryFilter);
                }
                
                const snapshot = await query.get();
                const container = document.getElementById('all-job-listings');
                container.innerHTML = '';
                
                if (snapshot.empty) {
                    container.innerHTML = '<p>No jobs available yet. Be the first to post one!</p>';
                    return;
                }
                
                for (const doc of snapshot.docs) {
                    const job = { id: doc.id, ...doc.data() };
                    
                    // Apply search filter
                    if (searchFilter) {
                        const searchLower = searchFilter.toLowerCase();
                        const titleMatch = job.title.toLowerCase().includes(searchLower);
                        const descMatch = job.description.toLowerCase().includes(searchLower);
                        const skillsMatch = job.skills?.some(skill => 
                            skill.toLowerCase().includes(searchLower)
                        );
                        
                        if (!titleMatch && !descMatch && !skillsMatch) {
                            continue;
                        }
                    }
                    
                    // Get poster info
                    let posterName = 'Unknown';
                    try {
                        const userDoc = await db.collection('users').doc(job.postedBy).get();
                        if (userDoc.exists) {
                            posterName = userDoc.data().name;
                        }
                    } catch (error) {
                        console.error('Error loading user:', error);
                    }
                    
                    // Check if current user has applied
                    let hasApplied = false;
                    if (state.currentUser && job.applicants) {
                        hasApplied = job.applicants.includes(state.currentUser.uid);
                    }
                    
                    const jobElement = document.createElement('div');
                    jobElement.className = 'job-card card';
                    jobElement.innerHTML = `
                        <h3>${job.title}</h3>
                        <div class="job-meta">
                            <span>Budget: $${job.budget}</span>
                            <span>${job.duration}</span>
                            <span>Applicants: ${job.applicants ? job.applicants.length : 0}</span>
                        </div>
                        <p>${job.description}</p>
                        <div class="job-skills">
                            ${job.skills ? job.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('') : ''}
                        </div>
                        <div style="margin-top: 15px; display: flex; justify-content: space-between; align-items: center;">
                            <span>Posted by: ${posterName}</span>
                            <div>
                                ${hasApplied ? 
                                    '<span class="btn btn-secondary">Applied</span>' : 
                                    `<button class="btn btn-primary btn-apply-job" data-id="${job.id}">Apply Now</button>`
                                }
                                <button class="btn btn-secondary btn-message-poster" data-poster="${job.postedBy}">Message</button>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(jobElement);
                }
                
                // Add event listeners
                setTimeout(() => {
                    document.querySelectorAll('.btn-apply-job').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const jobId = this.getAttribute('data-id');
                            applyForJob(jobId);
                        });
                    });
                    
                    document.querySelectorAll('.btn-message-poster').forEach(btn => {
                        btn.addEventListener('click', function() {
                            const posterId = this.getAttribute('data-poster');
                            startChatWithUser(posterId);
                        });
                    });
                }, 100);
                
            } catch (error) {
                console.error('Error loading jobs:', error);
                showNotification('Error loading jobs', 'error');
            }
        }
        
        // Post a Job
        async function postJob() {
            if (!state.currentUser || state.userProfile.type !== 'client') {
                showNotification('Only clients can post jobs', 'error');
                showPage('login');
                return;
            }
            
            const title = document.getElementById('job-title').value;
            const description = document.getElementById('job-description').value;
            const budget = parseInt(document.getElementById('job-budget').value);
            const skills = document.getElementById('job-skills').value.split(',').map(skill => skill.trim()).filter(skill => skill);
            const duration = document.getElementById('job-duration').value;
            
            if (!title || !description || !budget) {
                showNotification('Please fill all required fields', 'error');
                return;
            }
            
            showLoader('post-job-submit-btn', 'post-job-text', 'post-job-loader');
            
            try {
                await db.collection('jobs').add({
                    title,
                    description,
                    budget,
                    skills,
                    duration,
                    postedBy: state.currentUser.uid,
                    applicants: [],
                    status: 'open',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                // Update user's jobsPosted count
                await db.collection('users').doc(state.currentUser.uid).update({
                    jobsPosted: firebase.firestore.FieldValue.increment(1),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                showNotification('Job posted successfully!');
                hideLoader('post-job-submit-btn', 'post-job-text', 'post-job-loader');
                
                // Clear form
                document.getElementById('post-job-form').reset();
                
                // Update stats and redirect
                loadHomeStats();
                showPage('jobs');
                
            } catch (error) {
                hideLoader('post-job-submit-btn', 'post-job-text', 'post-job-loader');
                showNotification('Error posting job: ' + error.message, 'error');
            }
        }
        
        // Apply for a Job
        async function applyForJob(jobId) {
            if (!state.currentUser || state.userProfile.type !== 'freelancer') {
                showNotification('Only freelancers can apply for jobs', 'error');
                showPage('login');
                return;
            }
            
            try {
                // Get job document
                const jobRef = db.collection('jobs').doc(jobId);
                const jobDoc = await jobRef.get();
                
                if (!jobDoc.exists) {
                    showNotification('Job not found', 'error');
                    return;
                }
                
                const job = jobDoc.data();
                
                // Check if already applied
                if (job.applicants && job.applicants.includes(state.currentUser.uid)) {
                    showNotification('You have already applied for this job', 'warning');
                    return;
                }
                
                // Add applicant to job
                await jobRef.update({
                    applicants: firebase.firestore.FieldValue.arrayUnion(state.currentUser.uid),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                // Create a message to the job poster
                await db.collection('messages').add({
                    from: state.currentUser.uid,
                    to: job.postedBy,
                    text: `I'm interested in your job: "${job.title}". I have skills in ${state.userProfile.skills?.join(', ') || 'various areas'}.`,
                    type: 'application',
                    jobId: jobId,
                    read: false,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                showNotification('Application submitted successfully!');
                
                // Reload jobs
                loadAllJobs();
                
            } catch (error) {
                console.error('Error applying for job:', error);
                showNotification('Error applying for job', 'error');
            }
        }
        
        // ============================================
        // PROFILE FUNCTIONS
        // ============================================
        
        // Load Profile Data
        async function loadProfileData() {
            if (!state.userProfile) return;
            
            const user = state.userProfile;
            
            // Update basic info
            document.getElementById('profile-name').textContent = user.name;
            document.getElementById('profile-type').textContent = user.type.charAt(0).toUpperCase() + user.type.slice(1);
            document.getElementById('profile-email').textContent = user.email;
            document.getElementById('profile-avatar').textContent = user.name.charAt(0).toUpperCase();
            document.getElementById('profile-about').textContent = user.bio || 'No bio yet. Tell us about yourself!';
            document.getElementById('location-text').textContent = user.location || 'Location not set';
            
            // Update stats
            if (user.type === 'client') {
                document.getElementById('profile-jobs').textContent = user.jobsPosted || 0;
                document.getElementById('jobs-label').textContent = 'Jobs Posted';
                document.getElementById('profile-hired').textContent = user.jobsCompleted || 0;
                document.getElementById('profile-skills-section').style.display = 'none';
            } else {
                // Get applied jobs count
                const appliedJobsSnapshot = await db.collection('jobs')
                    .where('applicants', 'array-contains', state.currentUser.uid)
                    .get();
                
                document.getElementById('profile-jobs').textContent = appliedJobsSnapshot.size;
                document.getElementById('jobs-label').textContent = 'Jobs Applied';
                document.getElementById('profile-hired').textContent = user.jobsCompleted || 0;
                document.getElementById('profile-skills-section').style.display = 'block';
                
                // Load skills
                const skillsContainer = document.getElementById('profile-skills');
                skillsContainer.innerHTML = '';
                
                if (user.skills && user.skills.length > 0) {
                    user.skills.forEach(skill => {
                        const skillElement = document.createElement('div');
                        skillElement.className = 'profile-skill';
                        skillElement.textContent = skill;
                        skillsContainer.appendChild(skillElement);
                    });
                } else {
                    skillsContainer.innerHTML = '<p>No skills added yet</p>';
                }
                
                // Update portfolio text for freelancers
                document.getElementById('portfolio-text').textContent = `Applied to ${appliedJobsSnapshot.size} jobs and completed ${user.jobsCompleted || 0} projects. Hourly rate: $${user.hourlyRate || 50}/hr`;
            }
            
            // Set rating
            document.getElementById('profile-rating').textContent = user.rating ? user.rating.toFixed(1) : '0.0';
            
            // Load recent activity
            await loadRecentActivity();
        }
        
        // Load Recent Activity
        async function loadRecentActivity() {
            const container = document.getElementById('recent-activity');
            
            if (state.userProfile.type === 'client') {
                // Get client's jobs
                const jobsSnapshot = await db.collection('jobs')
                    .where('postedBy', '==', state.currentUser.uid)
                    .orderBy('createdAt', 'desc')
                    .limit(5)
                    .get();
                
                if (jobsSnapshot.empty) {
                    container.innerHTML = '<p>No jobs posted yet</p>';
                    return;
                }
                
                let html = '<ul style="list-style: none; padding: 0;">';
                jobsSnapshot.forEach(doc => {
                    const job = doc.data();
                    html += `
                        <li style="padding: 10px 0; border-bottom: 1px solid var(--border);">
                            <strong>${job.title}</strong><br>
                            <small>Posted â€¢ ${job.applicants ? job.applicants.length : 0} applicants</small>
                        </li>
                    `;
                });
                html += '</ul>';
                container.innerHTML = html;
            } else {
                // Get freelancer's applications
                const jobsSnapshot = await db.collection('jobs')
                    .where('applicants', 'array-contains', state.currentUser.uid)
                    .orderBy('createdAt', 'desc')
                    .limit(5)
                    .get();
                
                if (jobsSnapshot.empty) {
                    container.innerHTML = '<p>No applications yet</p>';
                    return;
                }
                
                let html = '<ul style="list-style: none; padding: 0;">';
                jobsSnapshot.forEach(doc => {
                    const job = doc.data();
                    html += `
                        <li style="padding: 10px 0; border-bottom: 1px solid var(--border);">
                            <strong>${job.title}</strong><br>
                            <small>Applied â€¢ Budget: $${job.budget}</small>
                        </li>
                    `;
                });
                html += '</ul>';
                container.innerHTML = html;
            }
        }
        
        // ============================================
        // CHAT FUNCTIONS
        // ============================================
        
        // Set up real-time chat listener
        function setupChatListener(userId) {
            if (!state.currentUser || !userId) return;
            
            // Remove any existing listener
            if (state.chatListener) {
                state.chatListener();
            }
            
            // Set up real-time listener for messages between current user and chat partner
            state.chatListener = db.collection('messages')
                .where('from', 'in', [state.currentUser.uid, userId])
                .where('to', 'in', [state.currentUser.uid, userId])
                .orderBy('createdAt', 'asc')
                .onSnapshot((snapshot) => {
                    const container = document.getElementById('chat-messages');
                    container.innerHTML = '';
                    
                    if (snapshot.empty) {
                        container.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--light);">No messages yet. Start the conversation!</div>';
                        return;
                    }
                    
                    snapshot.forEach(doc => {
                        const message = doc.data();
                        const isSent = message.from === state.currentUser.uid;
                        const timestamp = message.createdAt ? 
                            new Date(message.createdAt.seconds * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : '';
                        
                        const messageElement = document.createElement('div');
                        messageElement.className = `message ${isSent ? 'message-sent' : 'message-received'}`;
                        messageElement.innerHTML = `
                            <div>${message.text}</div>
                            <div class="message-time">${timestamp}</div>
                        `;
                        
                        container.appendChild(messageElement);
                    });
                    
                    // Scroll to bottom
                    container.scrollTop = container.scrollHeight;
                }, (error) => {
                    console.error('Chat listener error:', error);
                });
        }
        
        // Load Chat Contacts with real-time updates
        async function loadChatContacts() {
            if (!state.currentUser) return;
            
            // Remove existing listener
            if (state.contactsListener) {
                state.contactsListener();
            }
            
            try {
                // Set up real-time listener for contacts
                state.contactsListener = db.collection('messages')
                    .where('from', '==', state.currentUser.uid)
                    .onSnapshot(async (sentSnapshot) => {
                        
                        // Also get received messages
                        const receivedSnapshot = await db.collection('messages')
                            .where('to', '==', state.currentUser.uid)
                            .get();
                        
                        // Get unique contact IDs
                        const contactIds = new Set();
                        
                        sentSnapshot.forEach(doc => {
                            const msg = doc.data();
                            contactIds.add(msg.to);
                        });
                        
                        receivedSnapshot.forEach(doc => {
                            const msg = doc.data();
                            contactIds.add(msg.from);
                        });
                        
                        const container = document.getElementById('chat-contacts');
                        container.innerHTML = '';
                        
                        if (contactIds.size === 0) {
                            container.innerHTML = '<div style="padding: 20px; text-align: center; color: var(--light);">No messages yet</div>';
                            return;
                        }
                        
                        // Load contact details
                        for (const contactId of contactIds) {
                            try {
                                const userDoc = await db.collection('users').doc(contactId).get();
                                if (userDoc.exists) {
                                    const user = userDoc.data();
                                    
                                    // Get last message
                                    const lastMessageQuery = await db.collection('messages')
                                        .where('from', 'in', [state.currentUser.uid, contactId])
                                        .where('to', 'in', [state.currentUser.uid, contactId])
                                        .orderBy('createdAt', 'desc')
                                        .limit(1)
                                        .get();
                                    
                                    let lastMessage = 'No messages yet';
                                    let lastTime = '';
                                    if (!lastMessageQuery.empty) {
                                        const lastMsg = lastMessageQuery.docs[0].data();
                                        lastMessage = lastMsg.text;
                                        lastTime = lastMsg.createdAt ? 
                                            new Date(lastMsg.createdAt.seconds * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : '';
                                    }
                                    
                                    const contactElement = document.createElement('div');
                                    contactElement.className = 'chat-contact';
                                    if (state.currentChatWith === contactId) {
                                        contactElement.classList.add('active');
                                    }
                                    contactElement.setAttribute('data-id', contactId);
                                    contactElement.innerHTML = `
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <div class="avatar" style="width: 30px; height: 30px; font-size: 0.8rem;">
                                                ${user.name.charAt(0).toUpperCase()}
                                            </div>
                                            <div style="flex: 1;">
                                                <div style="font-weight: 600;">${user.name}</div>
                                                <div style="font-size: 0.8rem; color: var(--light);">
                                                    ${lastMessage.substring(0, 30)}${lastMessage.length > 30 ? '...' : ''}
                                                </div>
                                            </div>
                                            <div style="font-size: 0.7rem; color: var(--light);">
                                                ${lastTime}
                                            </div>
                                        </div>
                                    `;
                                    
                                    contactElement.addEventListener('click', () => {
                                        openChatWithUser(contactId);
                                    });
                                    
                                    container.appendChild(contactElement);
                                }
                            } catch (error) {
                                console.error('Error loading contact:', error);
                            }
                        }
                        
                    }, (error) => {
                        console.error('Contacts listener error:', error);
                    });
                
            } catch (error) {
                console.error('Error loading chat contacts:', error);
            }
        }
        
        // Open Chat with User
        async function openChatWithUser(userId) {
            state.currentChatWith = userId;
            
            try {
                const userDoc = await db.collection('users').doc(userId).get();
                if (userDoc.exists) {
                    const user = userDoc.data();
                    document.getElementById('chat-with').textContent = `Chat with ${user.name}`;
                }
                
                // Set up real-time listener for messages
                setupChatListener(userId);
                
                // Show message input
                document.getElementById('chat-input-area').style.display = 'flex';
                
                // Update active contact
                document.querySelectorAll('.chat-contact').forEach(contact => {
                    if (contact.getAttribute('data-id') === userId) {
                        contact.classList.add('active');
                    } else {
                        contact.classList.remove('active');
                    }
                });
                
                // Focus on message input
                setTimeout(() => {
                    document.getElementById('message-input').focus();
                }, 100);
                
            } catch (error) {
                console.error('Error opening chat:', error);
            }
        }
        
        // Send Message
        async function sendMessage() {
            if (!state.currentUser || !state.currentChatWith) {
                showNotification('Please select a conversation first', 'warning');
                return;
            }
            
            const input = document.getElementById('message-input');
            const text = input.value.trim();
            
            if (!text) {
                showNotification('Please enter a message', 'warning');
                return;
            }
            
            // Show sending indicator
            const sendBtn = document.getElementById('send-message');
            const originalText = sendBtn.innerHTML;
            sendBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
            sendBtn.disabled = true;
            
            try {
                // Save message to Firestore
                await db.collection('messages').add({
                    from: state.currentUser.uid,
                    to: state.currentChatWith,
                    text: text,
                    read: false,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                // Clear input
                input.value = '';
                
                // Restore send button
                sendBtn.innerHTML = originalText;
                sendBtn.disabled = false;
                
                // Focus back on input for next message
                input.focus();
                
                // The real-time listener will automatically update the chat
                
            } catch (error) {
                console.error('Error sending message:', error);
                showNotification('Error sending message', 'error');
                
                // Restore send button
                sendBtn.innerHTML = originalText;
                sendBtn.disabled = false;
            }
        }
        
        // ============================================
        // UI FUNCTIONS
        // ============================================
        
        // Update UI based on login state
        function updateUIForUser() {
            console.log("Updating UI for user:", state.currentUser ? "logged in" : "logged out");
            
            if (state.currentUser && state.userProfile) {
                // User is logged in
                const firstName = state.userProfile.name.split(' ')[0];
                const avatarLetter = state.userProfile.name.charAt(0).toUpperCase();
                
                userMenu.innerHTML = `
                    <a href="#" data-page="profile">Profile</a>
                    <div class="avatar" title="${state.userProfile.name}">${avatarLetter}</div>
                    <button class="btn btn-secondary" id="logoutBtn">Logout</button>
                `;
                
                // Update nav links based on user type
                const postJobLink = document.querySelector('a[data-page="post-job"]');
                if (state.userProfile.type === 'client') {
                    if (postJobLink) postJobLink.style.display = 'inline-block';
                } else {
                    if (postJobLink) postJobLink.style.display = 'none';
                }
                
                // Add logout event listener
                setTimeout(() => {
                    const logoutBtn = document.getElementById('logoutBtn');
                    if (logoutBtn) {
                        logoutBtn.addEventListener('click', (e) => {
                            e.preventDefault();
                            logoutUser();
                        });
                    }
                }, 100);
            } else {
                // User is not logged in
                userMenu.innerHTML = `
                    <a href="#" data-page="login" id="loginBtn">Login</a>
                    <a href="#" data-page="register" id="registerBtn" class="btn btn-primary">Sign Up</a>
                `;
                
                // Show all nav links
                const postJobLink = document.querySelector('a[data-page="post-job"]');
                if (postJobLink) postJobLink.style.display = 'inline-block';
                
                // Re-attach event listeners to new buttons
                setTimeout(() => {
                    const loginBtn = document.getElementById('loginBtn');
                    const registerBtn = document.getElementById('registerBtn');
                    
                    if (loginBtn) {
                        loginBtn.addEventListener('click', function(e) {
                            e.preventDefault();
                            showPage('login');
                        });
                    }
                    
                    if (registerBtn) {
                        registerBtn.addEventListener('click', function(e) {
                            e.preventDefault();
                            showPage('register');
                        });
                    }
                }, 100);
            }
        }
        
        // Page Navigation
        function showPage(pageName) {
            console.log("Showing page:", pageName);
            
            // Add fade out effect to current page
            const currentPage = document.querySelector('.page:not(.hidden)');
            if (currentPage) {
                currentPage.style.opacity = '0';
                currentPage.style.transform = 'translateY(20px)';
                currentPage.style.transition = 'all 0.3s ease';
            }
            
            setTimeout(() => {
                // Hide all pages
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.add('hidden');
                    page.style.opacity = '1';
                    page.style.transform = 'translateY(0)';
                });
                
                // Show the requested page
                const pageElement = document.getElementById(`${pageName}-page`);
                if (pageElement) {
                    pageElement.classList.remove('hidden');
                    
                    // Update UI based on login state
                    updateUIForUser();
                    
                    // Refresh data on specific pages
                    switch(pageName) {
                        case 'home':
                            loadHomeStats();
                            loadRecentJobs();
                            break;
                        case 'jobs':
                            loadAllJobs();
                            break;
                        case 'profile':
                            if (state.userProfile) {
                                loadProfileData();
                            } else if (state.currentUser) {
                                // Try to load profile if user is logged in but profile not loaded
                                loadUserProfile(state.currentUser.uid);
                            }
                            break;
                        case 'chat':
                            loadChatContacts();
                            break;
                    }
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }, 300);
        }
        
        // ============================================
        // SETUP EVENT LISTENERS
        // ============================================
        
        function setupEventListeners() {
            console.log("Setting up event listeners");
            
            // Navigation links
            document.querySelectorAll('[data-page]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    showPage(page);
                    
                    // Close mobile menu if open
                    navLinks.classList.remove('active');
                });
            });
            
            // Mobile menu toggle
            mobileMenuBtn.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });
            
            // User type selection
            document.querySelectorAll('.user-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.user-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const userType = this.getAttribute('data-type');
                    document.getElementById('user-type').value = userType;
                    
                    // Show/hide skills field
                    const skillsField = document.getElementById('skills-field');
                    if (userType === 'freelancer') {
                        skillsField.style.display = 'block';
                    } else {
                        skillsField.style.display = 'none';
                    }
                });
            });
            
            // Registration form
            const registerForm = document.getElementById('register-form');
            if (registerForm) {
                registerForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    console.log("Register form submitted");
                    registerUser();
                });
            }
            
            // Login form
            const loginForm = document.getElementById('login-form');
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    console.log("Login form submitted");
                    loginSubmit();
                });
            }
            
            // Post job form
            const postJobForm = document.getElementById('post-job-form');
            if (postJobForm) {
                postJobForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    postJob();
                });
            }
            
            // Send message button
            const sendMessageBtn = document.getElementById('send-message');
            if (sendMessageBtn) {
                sendMessageBtn.addEventListener('click', sendMessage);
            }
            
            // Enter key for message input
            const messageInput = document.getElementById('message-input');
            if (messageInput) {
                messageInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }
            
            // Comment submission
            const submitCommentBtn = document.getElementById('submit-comment');
            if (submitCommentBtn) {
                submitCommentBtn.addEventListener('click', submitComment);
            }
            
            // Enter key for comment input
            const commentInput = document.getElementById('comment-text');
            if (commentInput) {
                commentInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && e.ctrlKey) {
                        e.preventDefault();
                        submitComment();
                    }
                });
            }
            
            // Show more comments
            const showMoreCommentsBtn = document.getElementById('show-more-comments');
            if (showMoreCommentsBtn) {
                showMoreCommentsBtn.addEventListener('click', showMoreComments);
            }
            
            // Profile page buttons
            const editProfileBtn = document.getElementById('edit-profile-btn');
            if (editProfileBtn) {
                editProfileBtn.addEventListener('click', editProfile);
            }
            
            const shareProfileBtn = document.getElementById('share-profile-btn');
            if (shareProfileBtn) {
                shareProfileBtn.addEventListener('click', shareProfile);
            }
            
            const addPortfolioBtn = document.getElementById('add-portfolio-btn');
            if (addPortfolioBtn) {
                addPortfolioBtn.addEventListener('click', addPortfolioItem);
            }
            
            const setupPaypalBtn = document.getElementById('setup-paypal');
            if (setupPaypalBtn) {
                setupPaypalBtn.addEventListener('click', () => setupPayment('paypal'));
            }
            
            const setupWhatsappBtn = document.getElementById('setup-whatsapp');
            if (setupWhatsappBtn) {
                setupWhatsappBtn.addEventListener('click', () => setupPayment('whatsapp'));
            }
            
            const setupBankBtn = document.getElementById('setup-bank');
            if (setupBankBtn) {
                setupBankBtn.addEventListener('click', () => setupPayment('bank'));
            }
            
            // Job search and filter
            const jobSearch = document.getElementById('job-search');
            if (jobSearch) {
                jobSearch.addEventListener('input', loadAllJobs);
            }
            
            const jobCategoryFilter = document.getElementById('job-category-filter');
            if (jobCategoryFilter) {
                jobCategoryFilter.addEventListener('change', loadAllJobs);
            }
            
            // Event delegation for dynamic elements
            document.addEventListener('click', function(e) {
                // View job button
                if (e.target.classList.contains('btn-view-job') || 
                    e.target.closest('.btn-view-job')) {
                    const button = e.target.closest('.btn-view-job');
                    const jobId = button.getAttribute('data-id');
                    viewJobDetails(jobId);
                }
                
                // Apply for job button
                if (e.target.classList.contains('btn-apply-job') || 
                    e.target.closest('.btn-apply-job')) {
                    const button = e.target.closest('.btn-apply-job');
                    const jobId = button.getAttribute('data-id');
                    applyForJob(jobId);
                }
                
                // Message poster button
                if (e.target.classList.contains('btn-message-poster') || 
                    e.target.closest('.btn-message-poster')) {
                    const button = e.target.closest('.btn-message-poster');
                    const posterId = button.getAttribute('data-poster');
                    startChatWithUser(posterId);
                }
            });
        }
        
        // ============================================
        // INITIALIZATION
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded, initializing app");
            
            // Check if Firebase is initialized
            if (!firebase.apps.length) {
                console.error("Firebase not initialized!");
                showNotification("Firebase initialization failed. Please check your configuration.", "error");
                return;
            }
            
            setupEventListeners();
            showPage('home');
            
            // Load comments
            loadComments();
            
            // Check auth state immediately
            console.log("Checking initial auth state...");
        });
        
        // ============================================
        // HELPER FUNCTIONS FOR UI BUTTONS
        // ============================================
        
        function editProfile() {
            const newBio = prompt('Enter your new bio:', state.userProfile?.bio || '');
            if (newBio !== null && state.currentUser && state.userProfile) {
                // Update in Firestore
                db.collection('users').doc(state.currentUser.uid).update({
                    bio: newBio,
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                }).then(() => {
                    state.userProfile.bio = newBio;
                    document.getElementById('profile-about').textContent = newBio;
                    showNotification('Profile updated successfully!');
                }).catch(error => {
                    showNotification('Error updating profile: ' + error.message, 'error');
                });
            }
        }
        
        function shareProfile() {
            const profileUrl = `${window.location.origin}/profile/${state.currentUser?.uid}`;
            navigator.clipboard.writeText(profileUrl).then(() => {
                showNotification('Profile link copied to clipboard!');
            }).catch(() => {
                showNotification('Failed to copy profile link', 'error');
            });
        }
        
        function addPortfolioItem() {
            const item = prompt('Enter portfolio item (e.g., "E-commerce Website - $1500"):');
            if (item) {
                showNotification('Portfolio item added! (In a real app, this would save to Firebase)');
            }
        }
        
        function setupPayment(method) {
            showNotification(`${method} integration coming soon!`, 'warning');
        }
        
        function viewJobDetails(jobId) {
            // In a real app, this would show a modal with full job details
            showNotification('Viewing job details... Job ID: ' + jobId, 'info');
        }
        
        function startChatWithUser(userId) {
            state.currentChatWith = userId;
            showPage('chat');
            setTimeout(() => openChatWithUser(userId), 300);
        }
        
    </script>
</body>
</html>
        
